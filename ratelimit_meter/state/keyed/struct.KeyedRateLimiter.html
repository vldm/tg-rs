<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `KeyedRateLimiter` struct in crate `ratelimit_meter`."><meta name="keywords" content="rust, rustlang, rust-lang, KeyedRateLimiter"><title>ratelimit_meter::state::keyed::KeyedRateLimiter - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css"><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="shortcut icon" href="../../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../ratelimit_meter/index.html'><div class='logo-container'><img src='../../../rust-logo.png' alt='logo'></div></a><p class='location'>Struct KeyedRateLimiter</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.build_with_capacity">build_with_capacity</a><a href="#method.check">check</a><a href="#method.check_at">check_at</a><a href="#method.check_n">check_n</a><a href="#method.check_n_at">check_n_at</a><a href="#method.cleanup">cleanup</a><a href="#method.cleanup_at">cleanup_at</a><a href="#method.new">new</a><a href="#method.per_second">per_second</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Clone">Clone</a><a href="#impl-Debug">Debug</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">!Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">!UnwindSafe</a></div><a class="sidebar-title" href="#blanket-implementations">Blanket Implementations</a><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-ToOwned">ToOwned</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><p class='location'><a href='../../index.html'>ratelimit_meter</a>::<wbr><a href='../index.html'>state</a>::<wbr><a href='index.html'>keyed</a></p><script>window.sidebarCurrent = {name: 'KeyedRateLimiter', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"></div><a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#73-85' title='goto source code'>[src]</a></span><span class='in-band'>Struct <a href='../../index.html'>ratelimit_meter</a>::<wbr><a href='../index.html'>state</a>::<wbr><a href='index.html'>keyed</a>::<wbr><a class="struct" href=''>KeyedRateLimiter</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust struct'>pub struct KeyedRateLimiter&lt;K:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>, A:&nbsp;<a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;&nbsp;=&nbsp;<a class="type" href="../../../ratelimit_meter/algorithms/type.DefaultAlgorithm.html" title="type ratelimit_meter::algorithms::DefaultAlgorithm">DefaultAlgorithm</a>, C:&nbsp;<a class="trait" href="../../../ratelimit_meter/clock/trait.Clock.html" title="trait ratelimit_meter::clock::Clock">Clock</a>&nbsp;=&nbsp;<a class="type" href="../../../ratelimit_meter/clock/type.DefaultClock.html" title="type ratelimit_meter::clock::DefaultClock">DefaultClock</a>, H:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.BuildHasher.html" title="trait core::hash::BuildHasher">BuildHasher</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&nbsp;=&nbsp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.BucketState" title="type ratelimit_meter::algorithms::Algorithm::BucketState">BucketState</a>: <a class="trait" href="../../../ratelimit_meter/algorithms/trait.KeyableRateLimitState.html" title="trait ratelimit_meter::algorithms::KeyableRateLimitState">KeyableRateLimitState</a>&lt;A, C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;,&nbsp;</span> { /* fields omitted */ }</pre></div><div class='docblock'><p>An in-memory rate limiter that regulates a single rate limit for
multiple keys.</p>
<p>Keyed rate limiters can be used to e.g. enforce a per-IC address
or a per-customer request limit on the server side.</p>
<p>This implementation of the keyed rate limiter uses
<a href="../../../evmap/index.html"><code>evmap</code></a>, a read lock-free, concurrent
hash map. Addition of new keys (e.g. a new customer making their
first request) is synchronized and happens one at a time (it
synchronizes writes to minimize the effects from <code>evmap</code>'s
eventually consistent behavior on key addition), while reads of
existing keys all happen simultaneously, then get synchronized by
the rate limiting algorithm itself.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ratelimit_meter</span>::{<span class="ident">KeyedRateLimiter</span>};
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">limiter</span> <span class="op">=</span> <span class="ident">KeyedRateLimiter</span>::<span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">&gt;</span>::<span class="ident">new</span>(<span class="macro">nonzero</span><span class="macro">!</span>(<span class="number">1u32</span>), <span class="ident">Duration</span>::<span class="ident">from_secs</span>(<span class="number">5</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="prelude-val">Ok</span>(()), <span class="ident">limiter</span>.<span class="ident">check</span>(<span class="string">&quot;customer1&quot;</span>)); <span class="comment">// allowed!</span>
<span class="macro">assert_ne</span><span class="macro">!</span>(<span class="prelude-val">Ok</span>(()), <span class="ident">limiter</span>.<span class="ident">check</span>(<span class="string">&quot;customer1&quot;</span>)); <span class="comment">// ...but now customer1 must wait 5 seconds.</span>

<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="prelude-val">Ok</span>(()), <span class="ident">limiter</span>.<span class="ident">check</span>(<span class="string">&quot;customer2&quot;</span>)); <span class="comment">// it&#39;s customer2&#39;s first request!</span></pre></div>
<h1 id="expiring-old-keys" class="section-header"><a href="#expiring-old-keys">Expiring old keys</a></h1>
<p>If a key has not been checked in a long time, that key can be
expired safely (the next rate limit check for that key would
behave as if the key was not present in the map, after all). To
remove the unused keys and free up space, use the
<a href="method.cleanup"><code>cleanup</code></a> method:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ratelimit_meter</span>::{<span class="ident">KeyedRateLimiter</span>};
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">limiter</span> <span class="op">=</span> <span class="ident">KeyedRateLimiter</span>::<span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">&gt;</span>::<span class="ident">new</span>(<span class="macro">nonzero</span><span class="macro">!</span>(<span class="number">100u32</span>), <span class="ident">Duration</span>::<span class="ident">from_secs</span>(<span class="number">5</span>));
<span class="ident">limiter</span>.<span class="ident">check</span>(<span class="string">&quot;hi there&quot;</span>);
<span class="comment">// time passes...</span>

<span class="comment">// remove all keys that have been expireable for 10 minutes:</span>
<span class="ident">limiter</span>.<span class="ident">cleanup</span>(<span class="ident">Duration</span>::<span class="ident">from_secs</span>(<span class="number">600</span>));</pre></div>
</div><h2 id='methods' class='small-section-header'>Methods<a href='#methods' class='anchor'></a></h2><h3 id='impl' class='impl'><code class='in-band'>impl&lt;C, A, K&gt; <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../../../ratelimit_meter/clock/trait.Clock.html" title="trait ratelimit_meter::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;A::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.BucketState" title="type ratelimit_meter::algorithms::Algorithm::BucketState">BucketState</a>: <a class="trait" href="../../../ratelimit_meter/algorithms/trait.KeyableRateLimitState.html" title="trait ratelimit_meter::algorithms::KeyableRateLimitState">KeyableRateLimitState</a>&lt;A, C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></code><a href='#impl' class='anchor'></a><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#98-312' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.new' class="method"><code id='new.v'>pub fn <a href='#method.new' class='fnname'>new</a>(capacity: <a class="struct" href="https://doc.rust-lang.org/nightly/core/num/struct.NonZeroU32.html" title="struct core::num::NonZeroU32">NonZeroU32</a>, per_time_unit: <a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>) -&gt; Self</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#118-135' title='goto source code'>[src]</a></h4><div class='docblock'><p>Construct a new rate limiter that allows <code>capacity</code> cells per
time unit through.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ratelimit_meter</span>::{<span class="ident">KeyedRateLimiter</span>};
<span class="kw">let</span> <span class="ident">_limiter</span> <span class="op">=</span> <span class="ident">KeyedRateLimiter</span>::<span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">&gt;</span>::<span class="ident">new</span>(<span class="macro">nonzero</span><span class="macro">!</span>(<span class="number">100u32</span>), <span class="ident">Duration</span>::<span class="ident">from_secs</span>(<span class="number">5</span>));</pre></div>
</div><h4 id='method.per_second' class="method"><code id='per_second.v'>pub fn <a href='#method.per_second' class='fnname'>per_second</a>(capacity: <a class="struct" href="https://doc.rust-lang.org/nightly/core/num/struct.NonZeroU32.html" title="struct core::num::NonZeroU32">NonZeroU32</a>) -&gt; Self</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#153-155' title='goto source code'>[src]</a></h4><div class='docblock'><p>Construct a new keyed rate limiter that allows <code>capacity</code>
cells per second.</p>
<h1 id="examples-1" class="section-header"><a href="#examples-1">Examples</a></h1>
<p>Constructing a rate limiter keyed by <code>&amp;str</code> that lets through
100 cells per second:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ratelimit_meter</span>::{<span class="ident">KeyedRateLimiter</span>, <span class="ident">GCRA</span>};
<span class="kw">let</span> <span class="ident">_limiter</span> <span class="op">=</span> <span class="ident">KeyedRateLimiter</span>::<span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span>, <span class="ident">GCRA</span><span class="op">&gt;</span>::<span class="ident">per_second</span>(<span class="macro">nonzero</span><span class="macro">!</span>(<span class="number">100u32</span>));</pre></div>
</div><h4 id='method.build_with_capacity' class="method"><code id='build_with_capacity.v'>pub fn <a href='#method.build_with_capacity' class='fnname'>build_with_capacity</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;capacity: <a class="struct" href="https://doc.rust-lang.org/nightly/core/num/struct.NonZeroU32.html" title="struct core::num::NonZeroU32">NonZeroU32</a><br>) -&gt; <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.Builder.html" title="struct ratelimit_meter::state::keyed::Builder">Builder</a>&lt;K, C, A, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#159-164' title='goto source code'>[src]</a></h4><div class='docblock'><p>Return a constructor that can be used to construct a keyed
rate limiter with the builder pattern.</p>
</div><h4 id='method.check' class="method"><code id='check.v'>pub fn <a href='#method.check' class='fnname'>check</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: K<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, &lt;A as <a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;&gt;::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.NegativeDecision" title="type ratelimit_meter::algorithms::Algorithm::NegativeDecision">NegativeDecision</a>&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#198-200' title='goto source code'>[src]</a></h4><div class='docblock'><p>Tests if a single cell for the given key can be accommodated
at <code>Instant::now()</code>. If it can be, <code>check</code> updates the rate
limiter state on that key to account for the conforming cell
and returns <code>Ok(())</code>.</p>
<p>If the cell is non-conforming (i.e., it can't be accomodated
at this time stamp), <code>check_at</code> returns <code>Err</code> with information
about the earliest time at which a cell could be considered
conforming under that key.</p>
</div><h4 id='method.check_n' class="method"><code id='check_n.v'>pub fn <a href='#method.check_n' class='fnname'>check_n</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: K, <br>&nbsp;&nbsp;&nbsp;&nbsp;n: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="../../../ratelimit_meter/enum.NegativeMultiDecision.html" title="enum ratelimit_meter::NegativeMultiDecision">NegativeMultiDecision</a>&lt;&lt;A as <a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;&gt;::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.NegativeDecision" title="type ratelimit_meter::algorithms::Algorithm::NegativeDecision">NegativeDecision</a>&gt;&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#218-224' title='goto source code'>[src]</a></h4><div class='docblock'><p>Tests if <code>n</code> cells for the given key can be accommodated at
the current time stamp. If (and only if) all cells in the
batch can be accomodated, the <code>MultiDecider</code> updates the rate
limiter state on that key to account for all cells and returns
<code>Ok(())</code>.</p>
<p>If the entire batch of cells would not be conforming but the
rate limiter has the capacity to accomodate the cells at any
point in time, <code>check_n_at</code> returns error
<a href="../../enum.NegativeMultiDecision.html#variant.BatchNonConforming"><code>NegativeMultiDecision::BatchNonConforming</code></a>,
holding the number of cells and the rate limiter's negative
outcome result.</p>
<p>If <code>n</code> exceeds the bucket capacity, <code>check_n_at</code> returns
<a href="../../enum.NegativeMultiDecision.html#variant.InsufficientCapacity"><code>NegativeMultiDecision::InsufficientCapacity</code></a>,
indicating that a batch of this many cells can never succeed.</p>
</div><h4 id='method.check_at' class="method"><code id='check_at.v'>pub fn <a href='#method.check_at' class='fnname'>check_at</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: K, <br>&nbsp;&nbsp;&nbsp;&nbsp;at: C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, &lt;A as <a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;&gt;::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.NegativeDecision" title="type ratelimit_meter::algorithms::Algorithm::NegativeDecision">NegativeDecision</a>&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#229-235' title='goto source code'>[src]</a></h4><div class='docblock'><p>Tests whether a single cell for the given key can be
accommodated at the given time stamp. See
<a href="#method.check"><code>check</code></a>.</p>
</div><h4 id='method.check_n_at' class="method"><code id='check_n_at.v'>pub fn <a href='#method.check_n_at' class='fnname'>check_n_at</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: K, <br>&nbsp;&nbsp;&nbsp;&nbsp;n: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;at: C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="../../../ratelimit_meter/enum.NegativeMultiDecision.html" title="enum ratelimit_meter::NegativeMultiDecision">NegativeMultiDecision</a>&lt;&lt;A as <a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;&gt;::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.NegativeDecision" title="type ratelimit_meter::algorithms::Algorithm::NegativeDecision">NegativeDecision</a>&gt;&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#240-247' title='goto source code'>[src]</a></h4><div class='docblock'><p>Tests if <code>n</code> cells for the given key can be accommodated at
the given time (<code>Instant::now()</code>), using
<a href="#method.check_n"><code>check_n</code></a></p>
</div><h4 id='method.cleanup' class="method"><div class="important-traits"><div class='tooltip'>â“˜<span class='tooltiptext'>Important traits for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</h3><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</span></code></div></div><code id='cleanup.v'>pub fn <a href='#method.cleanup' class='fnname'>cleanup</a>&lt;D:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt;&gt;&gt;(&amp;mut self, min_age: D) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;K&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#273-275' title='goto source code'>[src]</a></h4><div class='docblock'><p>Removes the keys from this rate limiter that can be expired
safely and returns the keys that were removed.</p>
<p>To be eligible for expiration, a key's rate limiter state must
be at least <code>min_age</code> past its last relevance (see
<a href="../../algorithms/trait.RateLimitState.html#method.last_touched"><code>RateLimitState.last_touched</code></a>).</p>
<p>This method works in two parts, but both parts block new keys
from getting added while they're running:</p>
<ul>
<li>First, it collects the keys that are eligible for expiration.</li>
<li>Then, it expires these keys.</li>
</ul>
<p>Note that this only affects new keys that need to be
added. Rate-limiting operations on existing keys continue
concurrently.</p>
<h1 id="race-conditions" class="section-header"><a href="#race-conditions">Race conditions</a></h1>
<p>Since this is happening concurrently with other operations,
race conditions can &amp; will occur. It's possible that cells are
accounted between the time <code>cleanup_at</code> is called and their
expiry.  These cells will be lost.</p>
<p>The time window in which this can occur is hopefully short
enough that this is an acceptable risk of loss in accuracy.</p>
</div><h4 id='method.cleanup_at' class="method"><div class="important-traits"><div class='tooltip'>â“˜<span class='tooltiptext'>Important traits for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</h3><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</span></code></div></div><code id='cleanup_at.v'>pub fn <a href='#method.cleanup_at' class='fnname'>cleanup_at</a>&lt;D:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt;&gt;, I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;min_age: D, <br>&nbsp;&nbsp;&nbsp;&nbsp;at: I<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;K&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#281-311' title='goto source code'>[src]</a></h4><div class='docblock'><p>Removes the keys from this rate limiter that can be expired
safely at the given time stamp. See
<a href="#method.cleanup"><code>cleanup</code></a>. It returns the list of expired
keys.</p>
</div></div><h2 id='implementations' class='small-section-header'>Trait Implementations<a href='#implementations' class='anchor'></a></h2><div id='implementations-list'><h3 id='impl-Clone' class='impl'><code class='in-band'>impl&lt;K:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a>, A:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;, C:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="../../../ratelimit_meter/clock/trait.Clock.html" title="trait ratelimit_meter::clock::Clock">Clock</a>, H:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.BuildHasher.html" title="trait core::hash::BuildHasher">BuildHasher</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C, H&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.BucketState" title="type ratelimit_meter::algorithms::Algorithm::BucketState">BucketState</a>: <a class="trait" href="../../../ratelimit_meter/algorithms/trait.KeyableRateLimitState.html" title="trait ratelimit_meter::algorithms::KeyableRateLimitState">KeyableRateLimitState</a>&lt;A, C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;A::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.BucketState" title="type ratelimit_meter::algorithms::Algorithm::BucketState">BucketState</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></code><a href='#impl-Clone' class='anchor'></a><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#72' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.clone' class="method hidden"><code id='clone.v'>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C, H&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#72' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div><h4 id='method.clone_from' class="method hidden"><code id='clone_from.v'>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Self)</code><span class='since' title='Stable since Rust version 1.0.0'>1.0.0</span><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/clone.rs.html#131-133' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div><h3 id='impl-Debug' class='impl'><code class='in-band'>impl&lt;A, K, C:&nbsp;<a class="trait" href="../../../ratelimit_meter/clock/trait.Clock.html" title="trait ratelimit_meter::clock::Clock">Clock</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html" title="trait ratelimit_meter::algorithms::Algorithm">Algorithm</a>&lt;C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;A::<a class="type" href="../../../ratelimit_meter/algorithms/trait.Algorithm.html#associatedtype.BucketState" title="type ratelimit_meter::algorithms::Algorithm::BucketState">BucketState</a>: <a class="trait" href="../../../ratelimit_meter/algorithms/trait.KeyableRateLimitState.html" title="trait ratelimit_meter::algorithms::KeyableRateLimitState">KeyableRateLimitState</a>&lt;A, C::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></code><a href='#impl-Debug' class='anchor'></a><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#87-96' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.fmt' class="method hidden"><code id='fmt.v'>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Error.html" title="struct core::fmt::Error">Error</a>&gt;</code><a class='srclink' href='../../../src/ratelimit_meter/state/keyed.rs.html#93-95' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></div></div><h2 id='synthetic-implementations' class='small-section-header'>Auto Trait Implementations<a href='#synthetic-implementations' class='anchor'></a></h2><div id='synthetic-implementations-list'><h3 id='impl-Send' class='impl'><code class='in-band'>impl&lt;K, A, C, H&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C, H&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;H: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,&nbsp;</span></code><a href='#impl-Send' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-Sync' class='impl'><code class='in-band'>impl&lt;K, A&nbsp;=&nbsp;<a class="struct" href="../../../ratelimit_meter/algorithms/leaky_bucket/struct.LeakyBucket.html" title="struct ratelimit_meter::algorithms::leaky_bucket::LeakyBucket">LeakyBucket</a>&lt;&lt;<a class="struct" href="../../../ratelimit_meter/clock/struct.MonotonicClock.html" title="struct ratelimit_meter::clock::MonotonicClock">MonotonicClock</a> as <a class="trait" href="../../../ratelimit_meter/clock/trait.Clock.html" title="trait ratelimit_meter::clock::Clock">Clock</a>&gt;::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;, C&nbsp;=&nbsp;<a class="struct" href="../../../ratelimit_meter/clock/struct.MonotonicClock.html" title="struct ratelimit_meter::clock::MonotonicClock">MonotonicClock</a>, H&nbsp;=&nbsp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C, H&gt;</code><a href='#impl-Sync' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-Unpin' class='impl'><code class='in-band'>impl&lt;K, A, C, H&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C, H&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></code><a href='#impl-Unpin' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-UnwindSafe' class='impl'><code class='in-band'>impl&lt;K, A&nbsp;=&nbsp;<a class="struct" href="../../../ratelimit_meter/algorithms/leaky_bucket/struct.LeakyBucket.html" title="struct ratelimit_meter::algorithms::leaky_bucket::LeakyBucket">LeakyBucket</a>&lt;&lt;<a class="struct" href="../../../ratelimit_meter/clock/struct.MonotonicClock.html" title="struct ratelimit_meter::clock::MonotonicClock">MonotonicClock</a> as <a class="trait" href="../../../ratelimit_meter/clock/trait.Clock.html" title="trait ratelimit_meter::clock::Clock">Clock</a>&gt;::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;, C&nbsp;=&nbsp;<a class="struct" href="../../../ratelimit_meter/clock/struct.MonotonicClock.html" title="struct ratelimit_meter::clock::MonotonicClock">MonotonicClock</a>, H&nbsp;=&nbsp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C, H&gt;</code><a href='#impl-UnwindSafe' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-RefUnwindSafe' class='impl'><code class='in-band'>impl&lt;K, A&nbsp;=&nbsp;<a class="struct" href="../../../ratelimit_meter/algorithms/leaky_bucket/struct.LeakyBucket.html" title="struct ratelimit_meter::algorithms::leaky_bucket::LeakyBucket">LeakyBucket</a>&lt;&lt;<a class="struct" href="../../../ratelimit_meter/clock/struct.MonotonicClock.html" title="struct ratelimit_meter::clock::MonotonicClock">MonotonicClock</a> as <a class="trait" href="../../../ratelimit_meter/clock/trait.Clock.html" title="trait ratelimit_meter::clock::Clock">Clock</a>&gt;::<a class="type" href="../../../ratelimit_meter/clock/trait.Clock.html#associatedtype.Instant" title="type ratelimit_meter::clock::Clock::Instant">Instant</a>&gt;, C&nbsp;=&nbsp;<a class="struct" href="../../../ratelimit_meter/clock/struct.MonotonicClock.html" title="struct ratelimit_meter::clock::MonotonicClock">MonotonicClock</a>, H&nbsp;=&nbsp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="../../../ratelimit_meter/state/keyed/struct.KeyedRateLimiter.html" title="struct ratelimit_meter::state::keyed::KeyedRateLimiter">KeyedRateLimiter</a>&lt;K, A, C, H&gt;</code><a href='#impl-RefUnwindSafe' class='anchor'></a></h3><div class='impl-items'></div></div><h2 id='blanket-implementations' class='small-section-header'>Blanket Implementations<a href='#blanket-implementations' class='anchor'></a></h2><div id='blanket-implementations-list'><h3 id='impl-Into%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-Into%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#544-549' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.into' class="method hidden"><code id='into.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into' class='fnname'>into</a>(self) -&gt; U</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#546-548' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-From%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</code><a href='#impl-From%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#553-555' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.from' class="method hidden"><code id='from.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from' class='fnname'>from</a>(t: T) -&gt; T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#554' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-ToOwned' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></code><a href='#impl-ToOwned' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#81-92' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Owned' class="type"><code id='Owned.t'>type <a href='https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#associatedtype.Owned' class="type">Owned</a> = T</code></h4><div class='docblock'><p>The resulting type after obtaining ownership.</p>
</div><h4 id='method.to_owned' class="method hidden"><code id='to_owned.v'>fn <a href='https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned' class='fnname'>to_owned</a>(&amp;self) -&gt; T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#85-87' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></p>
</div><h4 id='method.clone_into' class="method hidden"><code id='clone_into.v'>fn <a href='https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into' class='fnname'>clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T)</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#89-91' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><details><summary><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>toowned_clone_into</code>)</summary><p>recently added</p>
</details></div></div><div class='docblock hidden'><p>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></p>
</div></div><h3 id='impl-TryFrom%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-TryFrom%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#584-590' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Error' class="type"><code id='Error.t'>type <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error' class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id='method.try_from' class="method hidden"><code id='try_from.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from' class='fnname'>try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#587-589' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-TryInto%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-TryInto%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#572-579' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Error-1' class="type"><code id='Error.t-1'>type <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error' class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id='method.try_into' class="method hidden"><code id='try_into.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into' class='fnname'>try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#576-578' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-Borrow%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-Borrow%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#213-215' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.borrow' class="method hidden"><div class="important-traits"><div class='tooltip'>â“˜<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>W</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>W</h3><code class="content"><span class="where fmt-newline">impl&lt;'_, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'_, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'_, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::traits::iterator::Iterator::Item">Item</a>;</span><span class="where fmt-newline">impl&lt;'_, F&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>F <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output' class="type">Output</a> = &lt;F as <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" title="type core::future::future::Future::Output">Output</a>;</span></code></div></div><code id='borrow.v'>fn <a href='https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow' class='fnname'>borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#214' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></div><h3 id='impl-BorrowMut%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-BorrowMut%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218-220' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.borrow_mut' class="method hidden"><div class="important-traits"><div class='tooltip'>â“˜<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>W</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>W</h3><code class="content"><span class="where fmt-newline">impl&lt;'_, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'_, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'_, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::traits::iterator::Iterator::Item">Item</a>;</span><span class="where fmt-newline">impl&lt;'_, F&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>F <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output' class="type">Output</a> = &lt;F as <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" title="type core::future::future::Future::Output">Output</a>;</span></code></div></div><code id='borrow_mut.v'>fn <a href='https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut' class='fnname'>borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></div><h3 id='impl-Any' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-Any' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/any.rs.html#98-100' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.type_id' class="method hidden"><code id='type_id.v'>fn <a href='https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id' class='fnname'>type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/any.rs.html#99' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "ratelimit_meter";</script><script src="../../../aliases.js"></script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>